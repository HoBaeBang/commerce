# 신규 기능 개발 로드맵 (회원, 판매, 배송지 기능)

이 문서는 Commerce 서비스에 소셜 로그인 기반 회원 시스템, 사용자의 상품 등록, 그리고 배송지 관리 기능을 추가하기 위한 개발 로드맵을 정의합니다.

## Phase 1: 소셜 로그인 및 회원 시스템 구축

### 1. 백엔드 (Spring Boot) 개발
- **User 엔티티 설계**:
    - 회원 정보를 저장할 `User` 엔티티에 `nickname`(닉네임) 컬럼을 추가합니다.
    - 회원가입(최초 소셜 로그인) 후 닉네임이 없는 경우, 최초 로그인 시 닉네임 설정을 유도합니다.
- **배송지(Address) 엔티티 설계**:
    - `Address` 엔티티를 새로 생성하여, 각 유저가 여러 배송지를 저장할 수 있도록 합니다.
    - 컬럼: `id`, `user_id`(FK), `address_nickname`(배송지 닉네임), `zipcode`, `address`, `address_detail`, `is_default`(기본 배송지 여부), `created_at`, `updated_at` 등.
    - 한 유저당 최대 5개까지 배송지 저장, 1개만 기본 배송지로 설정 가능하도록 비즈니스 로직 구현.
- **API 엔드포인트 추가**:
    - `POST /api/v1/users/me/nickname`: 닉네임 설정/수정
    - `GET /api/v1/users/me/addresses`: 내 배송지 목록 조회
    - `POST /api/v1/users/me/addresses`: 배송지 추가(최대 5개)
    - `PUT /api/v1/users/me/addresses/{addressId}`: 배송지 수정
    - `DELETE /api/v1/users/me/addresses/{addressId}`: 배송지 삭제
    - `PUT /api/v1/users/me/addresses/{addressId}/default`: 기본 배송지로 설정

### 2. 프론트엔드 (React) 개발
- **닉네임 설정 UI**:
    - 회원가입(최초 로그인) 후 닉네임이 없는 경우, 닉네임 입력 폼을 띄워 필수로 입력받도록 구현.
    - 마이페이지에서 닉네임 수정 가능.
- **배송지 관리 UI**:
    - 마이페이지에 '내 배송지 관리' 메뉴 추가.
    - 배송지 목록, 추가/수정/삭제, 기본 배송지 설정 UI 구현.
    - 배송지 닉네임, 주소, 상세주소, 우편번호 입력 필드 제공.
    - 배송지 최대 5개 제한 및 기본 배송지 1개만 설정 가능하도록 UX 처리.

---

## Phase 2: 사용자 상품 등록 및 관리 기능 개발

(이전 단계와 동일, 단 주문 시 기본 배송지 자동 선택 등 배송지 연동 로직 추가)

### 1. 백엔드 (Spring Boot) 개발

-   **Product 엔티티 수정**: `Product` 엔티티에 상품을 등록한 판매자 정보를 연결하기 위해 `userId`(FK) 컬럼을 추가합니다.
-   **파일 저장소 설정**: 사용자가 업로드하는 상품 이미지를 저장할 방법을 결정하고 구현합니다. (예: 로컬 서버, AWS S3 등)
-   **API 엔드포인트 추가 및 수정**:
    -   `POST /api/v1/products`: 상품 정보를 받아 새로운 상품을 등록합니다. (인증된 SELLER만 가능, 이미지 파일 처리를 위해 `multipart/form-data` 형식)
    -   `PUT /api/v1/products/{productId}`: 기존 상품 정보를 수정합니다. (상품 등록자만 가능)
    -   `DELETE /api/v1/products/{productId}`: 상품을 삭제합니다. (상품 등록자만 가능)
    -   `GET /api/v1/users/me/products`: 현재 로그인된 사용자가 등록한 모든 상품 목록을 조회합니다.
-   **주문(Order) 엔티티 수정**: `Order` 엔티티에 주문한 사용자 정보를 연결하기 위해 `userId`(FK) 컬럼을 추가합니다.
-   **보안 강화**:
    -   상품 등록/수정/삭제 API는 해당 상품을 등록한 판매자만 호출할 수 있도록 소유권 검증 로직을 추가합니다.
    -   사용자 역할을 `USER`에서 `SELLER`로 전환하는 로직이 필요할 수 있습니다. (예: 판매자 등록 신청/승인 절차)

### 2. 프론트엔드 (React) 개발

-   **UI/UX 구현**:
    -   **판매자 페이지**: '마이페이지' 내에 '내 상품 관리', '상품 등록하기' 등의 메뉴를 추가합니다.
    -   **상품 등록 폼**: 상품명, 가격, 설명, 재고, 이미지 업로드 등 필드를 포함하는 상품 등록/수정 페이지를 구현합니다.
    -   **내 상품 목록**: 내가 등록한 상품들을 리스트 형태로 보여주고, 수정/삭제 버튼을 제공하는 페이지를 구현합니다.
-   **API 연동**:
    -   상품 등록 폼에서 입력된 데이터와 이미지를 백엔드의 `POST /api/v1/products` API로 전송하는 로직을 구현합니다.
    -   수정/삭제 버튼 클릭 시, 각각의 API를 호출하도록 연동합니다.
-   **기존 페이지 수정**:
    -   상품 상세 페이지에 판매자 정보를 표시하는 영역을 추가할 수 있습니다. 